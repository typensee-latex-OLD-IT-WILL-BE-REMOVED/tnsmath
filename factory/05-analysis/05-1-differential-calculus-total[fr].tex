\documentclass[12pt,a4paper]{article}

\makeatletter
    \input{../config/header[fr].sty}
    \input{../01-misc/00-common-tools.sty}

    \usepackage{05-differential-calculus}
\makeatother


\begin{document}

% \section{Analysis}

\subsection{Calcul différentiel}

\subsubsection{\texorpdfstring{Les opérateurs $\pp{}$ et $\dd{}$}%
                               {Les opérateurs "d rond" et "d droit"}}

\newparaexample{}

\begin{latexex}
$\dd{t} = \dd[1]{t}$ ou $\dd[n]{x}$

$\pp{t} = \pp[1]{t}$ ou $\pp[n]{x}$
\end{latexex}


% ---------------------- %


\subsubsection{Fiches techniques}

\paragraph{Calcul différentiel}

\IDmacro{dd}{1}{1}

\IDmacro{pp}{1}{1}

\IDoption{} utilisée, cette option sera mise en exposant du symbole $\pp{}$ ou $\dd{}$.

\IDarg{} la variable de différentiation à droite du symbole $\pp{}$ ou $\dd{}$.


% ---------------------- %


\subsubsection{Dérivations totales d'une fonction -- Version longue mais polymorphe}

\newparaexample{Différentes écritures possibles}

La macro \macro{der} est stricte du point de vue sémantique car on doit lui fournir la fonction, l'ordre de dérivation et la variable de dérivation
\emph{(voir la section \ref{short-der} qui présente la macro \macro{sder} permettant une rédaction efficace pour obtenir $\sder[e]{f}{1}$ ou $\sder{f}{1}$)}.
Voici plusieurs mises en forme faciles à taper via l'option de \macro{der}.
Attention bien entendu à n'utiliser l'option par défaut \prefix{u} qu'avec un ordre de dérivation de valeur naturelle connue !

\begin{latexex}
 $\der   {f}{3}{x}
= \der[e]{f}{3}{x}$

 $\der[i] {u}{k}{x}
= \der[f] {u}{k}{x}
= \der[sf]{u}{k}{x}$
\end{latexex}


On peut aussi ajouter autour de la fonction des parenthèses extensibles ou non.
Ci-dessous on montre aussi une écriture du type \emph{\og opérateur fonctionnel \fg}.

\begin{latexex}
 $\der[osf,sp]{\frac{1}{2} uv}{k}{x}
= \der[of,p]  {\dfrac{1}{2} uv}{k}{x}$
\end{latexex}


\begin{remark}
	Expliquons les valeurs des options.
	\begin{enumerate}
		\item \prefix{u}, la valeur par défaut, est pour \whyprefix{u}{suel} soit l'écriture avec les primes. Cette option ne marchera pas avec un nombre symbolique de dérivations. 

		\item \prefix{e} est pour \whyprefix{e}{xposant}.

		\item \prefix{i} est pour \whyprefix{i}{ndice}.

		\item \prefix{f} est pour \whyprefix{f}{raction} avec aussi \prefix{sf} pour une écriture réduite où \prefix{s} est pour \whyprefix{s}{mall} soit \inenglish{petit}.

		\item \prefix{of} et \prefix{osf} utilisent le préfixe \prefix{o} pour \whyprefix{o}{pérateur}.
		
		\smallskip
		\item \prefix{p} est pour \whyprefix{p}{arenthèse} : dans ce cas les parenthèses seront extensibles.

		\item \prefix{sp} est pour des parenthèses non extensibles.
	\end{enumerate}
\end{remark}


% ---------------------- %


\newparaexample{Pas de uns inutiles}

\begin{latexex}
 $\der[i ]{u}{1}{x}
= \der[f ]{u}{1}{x}
= \der[sf]{u}{1}{x}
= \der[of]{u}{1}{x}$
\end{latexex}


\begin{remark}
	Voici comment forcer les exposants $1$ si besoin.

	\begin{latexex}
 $\der[i ]{u}{\,\!1}{x}
= \der[f ]{u}{\,\!1}{x}
= \der[sf]{u}{\,\!1}{x}
= \der[of]{u}{\,\!1}{x}$
\end{latexex}
\end{remark}


% ---------------------- %


\subsubsection{Dérivations totales d'une fonction -- Version courte pour les écritures standard} \label{short-der}

Dans l'exemple suivant le code manque de sémantique car on n'indique pas la variable de dérivation.
Ceci étant dit à l'usage la macro \macro{sder} rend de grands services.
Ici le préfixe \prefix{s} est pour \whyprefix{s}{imple} voire \whyprefix{s}{impliste}...
Voici des exemples où de nouveau l'option par défaut \prefix{u} ne sera fonctionnelle qu'avec un ordre de dérivation de valeur naturelle connue !

\begin{latexex}
 $\sder{f}{1} = \der{f}{1}{x}$

 $\sder{f}{1}
= \sder[e]{f}{1}$

 $\sder[sp ]{\dfrac{1}{2} uv}{2}
= \sder[e,p]{\dfrac{1}{2} uv}{2}$
\end{latexex}


\begin{remark}
	Ici les seules options disponibles sont \prefix{u}, \prefix{e}, \prefix{p} et \prefix{sp}.
\end{remark}


% ---------------------- %


\subsubsection{L'opérateur de dérivation totale}

Ce qui suit peut rendre service au niveau universitaire.
Les options possibles sont \verb+f+, valeur par défaut, \verb+sf+ et \verb+i+ avec les mêmes significations que pour la macro \macro{der}.

\begin{latexex}
 $\derope    {k}{x}
= \derope[sf]{k}{x}
= \derope[i] {k}{x}$

 $\derope    {1}{x}
= \derope[sf]{1}{x}
= \derope[i] {1}{x}$
\end{latexex}


% ---------------------- %


\subsubsection{Fiches techniques}

\paragraph{Dérivations totales}

\IDmacro{der}{1}{3}

\IDoption{} la valeur par défaut est \verb+u+. 
\begin{enumerate}
	\item \verb+u+ : écriture usuelle avec des primes \emph{(ceci nécessite d'avoir une valeur entière naturelle connue du nombre de dérivations successives)}.

	\item \verb+e+ : écriture via un exposant entre des parenthèses.
	
	\item \verb+i+ : écriture via un indice.

	\item \verb+f+ : écriture via une fraction en mode display.

	\item \verb+sf+ : écriture via une fraction en mode non display.

	\item \verb+of+ : écriture via une fraction en mode display sous la forme d'un opérateur \emph{(la fonction est à côté de la fraction)}.

	\item \verb+osf+ : écriture via une fraction en mode non display sous la forme d'un opérateur \emph{(la fonction est à côté de la fraction)}.

	\smallskip
	\item \verb+p+ : ajout de parenthèses extensibles autour de la fonction.

	\item \verb+sp+ : ajout de parenthèses non extensibles autour de la fonction.
\end{enumerate}


\IDarg{1} la fonction à dériver.

\IDarg{2} l'ordre de dérivation.

\IDarg{3} la variable de dérivation.


\separation


\IDmacro{sder}{1}{2} où \quad \mwhyprefix{s}{imple}

\IDoption{} la valeur par défaut est \verb+u+. Les options disponibles sont \verb+u+, \verb+e+, \verb+p+ et \verb+sp+ : voir la fiche technique de \macro{sder} ci-dessus.

\IDarg{1} la fonction à dériver.

\IDarg{2} l'ordre de dérivation.


% ---------------------- %


\paragraph{Dérivation totale -- Opérateur fonctionnel}

\IDmacro{derope}{1}{2} où \quad \mwhyprefix{ope}{rator}

\IDoption{} la valeur par défaut est \verb+f+. Les options disponibles sont \verb+f+, \verb+sf+ et \verb+i+ : voir la fiche technique de \macro{der} donnée un peu plus haut.

\IDarg{1} la fonction à dériver.

\IDarg{2} l'ordre de dérivation.

\end{document}

\documentclass[12pt,a4paper]{article}

\makeatletter
    \input{../../config/header[fr].sty}
    \usepackage{../04-cartesian-coordinates/01-cartesian-coordinates}

    \usepackage{03-vector-products}
\makeatother


% == EXTRA == %

\usepackage[f]{esvect}
\usepackage{relsize}
\usepackage{yhmath}
\usepackage{xstring}


\makeatletter
    \newcommand\pt[1]{\mathrm{#1}}

    \newcommand\@no@point[1]{%
        \IfStrEq{#1}{i}{%
            \imath%
    }{%
            \IfStrEq{#1}{j}{%
                \jmath%
        }{%
                #1
        }%
    }%
}

    \newcommand\vect{\@ifstar{\@vect@star}{\@vect@no@star}}
    \newcommand*\@vect@star[1]{\vv*{\@no@point{#1}}}
    \newcommand*\@vect@no@star[1]{\vv{\@no@point{#1}}}
\makeatother


\begin{document}

%\section{Vecteurs}

\subsection{3D -- Produit vectoriel}

\subsubsection{Écriture symbolique}

\newparaexample{Version classique en France}

\begin{latexex}
$\crossprod{\dfrac{1}{2} \vect{i}}%
           {\vect{j}}$ 
\end{latexex}


% ---------------------- %


\newparaexample{Version alternative}

La macro \macro{crossprod} possède un argument optionnel que l'on peut utiliser pour obtenir la mise en forme suivante.

\begin{latexex}
$\crossprod[t]{\dfrac{1}{2} \vect{i}}%
              {\vect{j}}$ 
\end{latexex}


% ---------------------- %


\newparaexample{Version courte mais restrictive}

\begin{latexex}
$\vcrossprod   {i}{j}$ ou
$\vcrossprod[t]{i}{j}$
\end{latexex}


% ---------------------- %


\subsubsection{Explication du mode de calcul}

\newparaexample{}

Dans l'exemple suivant, le préfixe \prefix{calc} est pour \whyprefix{calc}{uler} quant à \prefix{v} est pour \whyprefix{v}{ecteur} pour une rédaction raccourcie pour les vecteurs.

\begin{latexex}
$\calccrossprod{\vect{u}}{x}{y}{z}%
               {\vect{v}}{x'}{y'}{z'}$
ou
$\vcalccrossprod{AB}{x_B - x_A}%
                    {y_B - y_A}%
                    {z_B - z_A}%
                {CD}{x_D - x_C}%
                    {y_D - y_C}%
                    {z_D - z_C}$
\end{latexex}


\begin{remark}
    Tous les exemples suivants se feront avec \macro{vcalccrossprod} mais bien entendu ils restent adaptables directement à \macro{calccrossprod}.
\end{remark}


% ---------------------- %


\newparaexample{Pour un public averti}

On peut juste proposer des croix fléchées ou non, voir juste les coordonnées \og augmentées \fg{} sans les décorations comme ci-après via l'argument optionnel de \macro{calccrossprod} ou \macro{vcalccrossprod}.

\begin{latexex}
$ \vcalccrossprod[arrows]{u}{x}{y}{z}%
                         {v}{x'}{y'}{z'}
= \vcalccrossprod[cross] {u}{x}{y}{z}%
                         {v}{x'}{y'}{z'}
= \vcalccrossprod[nodeco]{u}{x}{y}{z}%
                         {v}{x'}{y'}{z'}$
\end{latexex}


% ---------------------- %


\newparaexample{Sans les vecteurs}

Si les vecteurs vous gênent il suffira d'utiliser l'option \verb+novec+ pour \verb+no+ \whyprefix{vec}{tor} soit \inenglish{pas de vecteur}.
Voici deux cas d'utilisation
\footnote{
	Il peut sembler un peu lourd d'avoir des arguments pour des vecteurs non affichés mais ce choix permet à l'usage de faire des copier-coller redoutables d'efficacité !
}.


\begin{latexex}
$ \vcalccrossprod[novec]
      {u}{x}{y}{z}{v}{x'}{y'}{z'}
= \vcalccrossprod[novec,cross]
      {u}{x}{y}{z}{v}{x'}{y'}{z'}$
\end{latexex}



% ---------------------- %


\newparaexample{Les coordonnées \og développées \fg}

Parmi les options proposées par \macro{calccrossprod} et \macro{vcalccrossprod}, il y en existe quelques unes fournissant des coordonnées
\footnote{
	En coulisse on utilise la macro \macro{coord} présentée dans la section \ref{tnsgeo-coordinates} page \pageref{tnsgeo-coordinates} dont on reprend les options de mise en forme. 
}
détaillant les calculs. Indiquons que \prefix{exp} est pour \whyprefix{exp}{and} soit \inenglish{développer}, \prefix{c} pour \macro{cdot} et enfin \prefix{t} pour \macro{times}
\footnote{
	De nouveau on obtient ici une méthode très pratique à l'usage car elle permet de faire des copier-coller.
}.


\begin{latexex}
$\vcalccrossprod[exp]%
                {u}{\dfrac{1}{2}x}{y}{z}%
                {v}{x'}{y'}{z'}$

$\vcalccrossprod[cexp,vb]%
                {u}{\dfrac{1}{2}x}{y}{z}%
                {v}{x'}{y'}{z'}$

$\vcalccrossprod[texp,sp]%
                {u}{\dfrac{1}{2}x}{y}{z}%
                {v}{x'}{y'}{z'}$
\end{latexex}


\medskip


Voici les options disponibles. Nous expliquons ensuite comment les utiliser.
\begin{enumerate}
	\item \prefix{p} vient de \whyprefix{p}{arenthèses}. Ceci donnera une écriture horizontale.

	\item \prefix{b} vient de \whyprefix{b}{rackets} soit \inenglish{crochets}. Ceci donnera une écriture horizontale.

	\item \prefix{sp} et \prefix{sb} produisent des délimiteurs non extensibles en mode horizontal.
	      Ici \prefix{s} vient de \whyprefix{s}{mall} soit \inenglish{petit}.

	\item \prefix{vp} et \prefix{vb} produisent des écritures verticales.
	      Ici \prefix{v} vient de \whyprefix{v}{ertical}.

	\medskip

	\item \prefix{exp} tout seul demande d'utiliser un espace pour séparer les facteurs de chaque produit.

	\item \prefix{texp} tout seul demande d'utiliser \macro{times} comme opérateur de multiplication.

	\item \prefix{cexp} tout seul demande d'utiliser \macro{cdot} comme opérateur de multiplication.
\end{enumerate}

\bigskip


\textbf{Attention !}
Les produits sont rédigés stupidement. Autrement dit ce sera à vous d'ajouter des parenthèses là où il y en aura besoin sinon vous obtiendrez des horreurs comme celle ci-dessous.
    
\begin{latexex}
$\vcalccrossprod[exp,vb]%
 {AB}%
 {x_B - x_A}{y_B - y_A}{z_B - z_A}%
 {CD}%
 {x_D - x_C}{y_D - y_C}{z_D - z_C}$
\end{latexex}

Ici nous n'avons pas d'autre choix que de corriger le tir nous-même.
Ceci étant indiqué, ce genre de situation est très rare dans la vraie vie mathématique où l'on évite d'avoir à calculer un produit vectoriel avec des expressions compliquées.
    
\begin{latexex}
$\vcalccrossprod[exp,vb]%
 {AB}%
 {(x_B - x_A)}{(y_B - y_A)}{(z_B - z_A)}%
 {CD}%
 {(x_D - x_C)}{(y_D - y_C)}{(z_D - z_C)}$
\end{latexex}


% ---------------------- %


\subsection{Fiche technique}

\IDmacro{crossprod}{1}{2}

\IDoption{} la valeur par défaut est \verb+w+ pour \whyprefix{w}{edge} soit \inenglish{coin}. Voici les valeurs possibles.

\begin{enumerate}
	\item \verb+w+ : écriture classique en France.

	\item \verb+t+ : écriture alternative avec le symbole \macro{times}.

\end{enumerate}

\IDarg{1} le 1\ier{} vecteur qu'il faut taper via la macro \macro{vect}.

\IDarg{2} le 2\ieme{} vecteur qu'il faut taper via la macro \macro{vect}.


\separation


\IDmacro{vcrossprod}{1}{2} \hfill \mwhyprefix{v}{ector}

\IDoption{} voir les explications précédentes données pour \macro{crossprod}.

\IDarg{1} le nom du 1\ier{} vecteur sans utiliser la macro \macro{vect}.

\IDarg{2} le nom du 2\ieme{} vecteur sans utiliser la macro \macro{vect}.


\separation


\IDmacro{calccrossprod}{1}{8}  \hfill \mwhyprefix{calc}{ulate}


\IDoption{} la valeur par défaut est \verb+vec,loop+. 
            Voici les différentes valeurs possibles.
\begin{enumerate}
	\item \verb+vec  + : pour afficher les vecteurs.

	\item \verb+novec+ : pour ne pas afficher les vecteurs.

	\medskip
	
	\item \verb+arrows+ : des croix fléchées indiquent comment effectuer les calculs.

	\item \verb+cross + : des croix non fléchées indiquent comment effectuer les calculs.

	\item \verb+loop  + : des boucles indiquent comment effectuer les calculs.

	\item \verb+nodeco+ : rien n'indique comment effectuer les calculs.

    \medskip

    \item \verb+exp+ : ceci demande d'afficher les formules développées de chaque coordonnée en utilisant un espace pour séparer les facteurs de chaque produit.

    \item \verb+cexp+ : comme \verb+exp+ mais avec le symbole $\cdot$ obtenu via \macro{cdot}.

    \item \verb+texp+ : comme \verb+exp+ mais avec le symbole $\times$.

	\medskip
	
	\item \verb+p + : écriture horizontale avec des parenthèses extensibles.

	\item \verb+sp+ : écriture horizontale avec des parenthèses non extensibles.

	\item \verb+vp+ : écriture verticale avec des parenthèses.

	\medskip
	
	\item \verb+b + : écriture horizontale avec des crochets extensibles.

	\item \verb+sb+ : écriture horizontale avec des crochets non extensibles.

	\item \verb+vb+ : écriture verticale avec des crochets.
\end{enumerate}

            On peut combiner deux types de choix cohérents en les séparant par une virgule comme dans \verb+vec,loop+ la valeur par défaut de l'option.
            
            
\IDarg{1} le 1\ier{} vecteur qu'il faut taper via la macro \macro{vect}.

\IDargs{2..4} les coordonnées du 1\ier{} vecteur.

\IDarg{5} le 2\ieme{} vecteur qu'il faut taper via la macro \macro{vect}.

\IDargs{6..8} les coordonnées du 2\ieme{} vecteur.


\separation


\IDmacro{vcalccrossprod}{1}{8}  \hfill \mwhyprefix{calc}{ulate}
                                    et \mwhyprefix{v}{ector}

\IDarg{1} le 1\ier{} vecteur sans utiliser la macro \macro{vect}.

\IDarg{5} le 2\ieme{} vecteur sans utiliser la macro \macro{vect}.

\medskip

Pour le reste, voir les indications données ci-dessus pour \macro{calccrossprod}. 

\end{document}

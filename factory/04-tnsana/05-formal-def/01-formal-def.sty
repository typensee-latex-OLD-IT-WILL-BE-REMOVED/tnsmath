% == PACKAGES USED == %

\RequirePackage{etoolbox}


% == DEFINITIONS == %


% Source 
%	* http://forum.mathematex.net/latex-f6/ecrire-une-fonction-en-latex-t1447.html#p11632

\newbool{tnsana@func@def@option@u}
\newbool{tnsana@func@def@option@s}
\newbool{tnsana@func@def@option@h}


% Argument #1: option s or sp
% Argument #2: function
% Argument #3: variable
% Argument #4: formula
% Argument #5: initial set
% Argument #6: final set

\newcommand\funcdef[6][u]{%
    \boolfalse{tnsana@func@def@option@u}%
    \boolfalse{tnsana@func@def@option@s}%
    \boolfalse{tnsana@func@def@option@h}%
    %
    \IfEqCase{#1}{%
        {u}{\booltrue{tnsana@func@def@option@u}}%
        {s}{\booltrue{tnsana@func@def@option@s}}%
        {h}{\booltrue{tnsana@func@def@option@h}}%
    }[%
        \PackageError{tnsana}{unknown option}%
                             {you can use u (default), s and h}%
    ]%
    %
    \ifbool{tnsana@func@def@option@u}{%
    	\let\callit\tnsana@func@def@usual%
    }{%
        \ifbool{tnsana@func@def@option@s}{%
    		\let\callit\tnsana@func@def@no@vrule%
        }{%
            \let\callit\tnsana@func@def@inline%
        }%
    }%
    %
	\callit{#2}{#3}{#4}{#5}{#6}%
}


% Argument #1: function
% Argument #2: variable
% Argument #3: formula
% Argument #4: initial set
% Argument #5: final set

\newcommand\tnsana@func@def@inline[5]{%
	#1 : #2 \in #4 \mapsto #3 \in #5%
}


% Argument #1: function
%
% Argument #2: function
% Argument #3: variable
% Argument #4: formula
% Argument #5: initial set
% Argument #6: final set

\newcommand\tnsana@func@def@vertabstract[6]{%
	\begin{array}[t]{l@#1@{\kern.5ex}r@{\kern.5ex}c@{\;}l}
		#2 \colon & #5 & \rightarrow & #6 \\
			      & #3 & \mapsto     & #4%
	\end{array}
}


\newcommand\tnsana@func@def@usual[5]{%
	\tnsana@func@def@vertabstract{{\kern.4ex}|}{#1}{#2}{#3}{#4}{#5}%
}


\newcommand\tnsana@func@def@no@vrule[5]{%
	\tnsana@func@def@vertabstract{{\kern.2ex}}{#1}{#2}{#3}{#4}{#5}%
}


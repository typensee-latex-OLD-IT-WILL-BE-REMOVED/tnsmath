\documentclass[12pt,a4paper]{article}

% == FOR DOC AND TESTS - START == %

\usepackage[utf8]{inputenc}
\usepackage{ucs}
\usepackage[top=2cm, bottom=2cm, left=1.5cm, right=1.5cm]{geometry}

\usepackage{color}
\usepackage{hyperref}
\hypersetup{
    colorlinks,
    citecolor=black,
    filecolor=black,
    linkcolor=black,
    urlcolor=black
}

\usepackage{enumitem}

\usepackage{amsthm}

\usepackage{tcolorbox}
\tcbuselibrary{listings}

\usepackage{pgffor}
\usepackage{xstring}


% MISC

\setlength{\parindent}{0cm}
\setlist{noitemsep}

\theoremstyle{definition}
\newtheorem*{remark}{Remark}

\usepackage[raggedright]{titlesec}

\titleformat{\paragraph}[hang]{\normalfont\normalsize\bfseries}{\theparagraph}{1em}{}
\titlespacing*{\paragraph}{0pt}{3.25ex plus 1ex minus .2ex}{0.5em}


% Technical IDs

\newwrite\tempfile

\immediate\openout\tempfile=x-\jobname.macros-x.txt

\AtEndDocument{\immediate\closeout\tempfile}

\newcommand\IDconstant[1]{%
    \immediate\write\tempfile{constant@#1}%
}

\makeatletter
	\newcommand\IDmacro{\@ifstar{\@IDmacro@star}{\@IDmacro@no@star}}

    \newcommand\@IDmacro@no@star[3]{%
        \texttt{%
        	\textbackslash#1%
        	\IfStrEq{#2}{0}{}{%
        		\,\,[#2 Option%
				\IfStrEq{#2}{1}{}{s}]%
			}%
    	    \IfStrEq{#3}{}{}{%
	    		\,\,(#3 Argument%
				\IfStrEq{#3}{1}{}{s})%
			}
	   	}
        \immediate\write\tempfile{macro,#1,#2,#3}%
    }

    \newcommand\@IDmacro@star[2]{%
        \@IDmacro@no@star{#1}{0}{#2}%
    }

	\newcommand\@IDoptarg{\@ifstar{\@IDoptarg@star}{\@IDoptarg@no@star}}

	\newcommand\@IDoptarg@star[2]{%
    	\vspace{0.5em}
		--- \texttt{#1%
			\IfStrEq{#2}{}{:}{\,#2:}%
		}%
	}

	\newcommand\@IDoptarg@no@star[2]{%
    	\IfStrEq{#2}{}{%
			\@IDoptarg@star{#1}{}%
		}{%
			\@IDoptarg@star{#1}{\##2}%
		}%
	}

	\newcommand\IDkey[1]{%
    	\@IDoptarg*{Option}{{\itshape "#1"}}%
	}

	\newcommand\IDoption[1]{%
    	\@IDoptarg{Option}{#1}%
	}

	\newcommand\IDarg[1]{%
    	\@IDoptarg{Argument}{#1}%
	}
\makeatother

% == FOR DOC AND TESTS - END == %


% == EXTRAS == %

\usepackage{amsmath}


% == PACKAGES USED == %

\usepackage[Symbolsmallscale]{upgreek}
\usepackage{xstring}


% == DEFINITIONS == %

% User's constants

\newcommand\ct[1]{%
    \IfStrEqCase{#1}{%
        {gamma}{\upgamma}%
        {pi}{\uppi}%
        {tau}{\uptau}%
    }[\text{\textbf{#1}}]
}

% Classical constants
    
\newcommand\ggamma{\ct{gamma}}
\newcommand\ppi{\ct{pi}}
\newcommand\ttau{\ct{tau}}
\newcommand\ee{\ct{e}}
\newcommand\ii{\ct{i}}
\newcommand\jj{\ct{j}}
\newcommand\kk{\ct{k}}



\begin{document}

\section{Analysis}

    \subsection{Constants}

        \subsubsection{Classical constants}

            \paragraph{Complete list}
       
% List of classical constants

\foreach \k in {ggamma, ppi, ttau, ee, ii, jj, kk}{\IDconstant{\k}}

\begin{tcblisting}{}
List of all classical constants where $\ttau = \frac{\ppi}{2}$ is the youngest one:
$\ggamma$, $\ppi$, $\ttau$, $\ee$, $\ii$, $\jj$ and $\kk$.
\end{tcblisting}


\begin{remark}
	Take care that \verb+{\Large $\ppi \neq \pi$}+ produces {\Large $\ppi \neq \pi$}. As you can see, the symbols are not the same. Indeed, this is true for all the greek constants.
\end{remark}



        \subsubsection{User's latine constants}

            \paragraph{Example of use}

\begin{tcblisting}{}
It is easy to write $\ct{a} x^2 + \ct{b} x + \ct{c}$ instead of $a x^2 + b x + c$
such as to stress the fact that $\ct{a}$, $\ct{b}$ and $\ct{c}$ are constants.
\end{tcblisting}


            \paragraph{Technical ID}

\IDmacro*{ct}{1}

\IDarg{} a latine text, and not a formula, indicating one constant.

\end{document}

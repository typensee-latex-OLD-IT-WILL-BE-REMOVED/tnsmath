\documentclass[12pt,a4paper]{article}

\makeatletter
    \input{../config/header[fr].sty}
    \input{../01-misc/00-common-tools.sty}

    \usepackage{02-matrices}
\makeatother



\begin{document}

%\section{Algèbre}

\subsection{Matrices}

\paragraph{Comment ça marche ?}

Tout le boulot est fait par le package \verb+nicematrix+ auquel on impose l'option \verb+transparent+. Veuillez vous reporter à la documentation de \verb+nicematrix+ pour savoir comment s'y prendre.


% ---------------------- %


\paragraph{Exemple 1 tiré de la documentation de \texttt{nicematrix}}

\begin{latexex}
$\begin{pmatrix}
    1      & \cdots & \cdots & 1      \\
    0      & \ddots &        & \vdots \\
    \vdots & \ddots & \ddots & \vdots \\
    0      & \cdots & 0      & 1
\end{pmatrix}$
\end{latexex}


% ---------------------- %


\paragraph{Exemple 2 tiré de la documentation de \texttt{nicematrix}}

\begin{latexex}
$\begin{pNiceMatrix}[name = mymatrix]
    1 & 2 & 3 \\
    4 & 5 & 6 \\
    7 & 8 & 9
\end{pNiceMatrix}$

\tikz[remember picture,
      overlay]
\draw[red] (mymatrix-2-2) circle (2.5mm);
\end{latexex}


% ---------------------- %


\paragraph{Exemple 3 adapté de la documentation de \texttt{nicematrix}}

\begin{latexex}
$\left(
    \begin{NiceArray}{CCCC:C}
        1  & 2  & 3  & 4  & 5  \\
        6  & 7  & 8  & 9  & 10 \\
        11 & 12 & 13 & 14 & 15
    \end{NiceArray}
\right)$
\end{latexex}$


% ---------------------- %


\paragraph{Exemple 4 proposé par l'auteur de \texttt{nicematrix} suite à une discussion par mail}

\begin{latexex}
% Besoin du package ``ifthen``.
\newcommand\aij{%
  a_{\arabic{iRow}\arabic{jCol}}%
}

$\begin{bNiceArray}%
  {*{5}{>{%
    \ifthenelse{\value{iRow}>0}{\aij}{}%
  }C}}%
  [first-col,
   first-row,
   code-for-first-row
   = \mathbf{\arabic{jCol}},
   code-for-first-col
   = \mathbf{\arabic{iRow}}]
      & & & & & \\
      & & & & & \\
      & & & & &
\end{bNiceArray}$
\end{latexex}$


% ---------------------- %


\paragraph{Exemple 5 avec des calculs automatiques}

\begin{latexex}
\newcounter{cntaij}
\newcommand\aij{%
    \setcounter{cntaij}{\value{iRow}}%
    \addtocounter{cntaij}{\value{jCol}}%
    \addtocounter{cntaij}{-1}%
    \arabic{cntaij}%
}
Si $a_{ij} = i + j - 1$ alors

$(a_{ij})_{1 \leq i \leq 3 , 1 \leq j \leq 5}
=
\begin{bNiceArray}{*{5}{>{\aij}C}}
    & & & & \\
    & & & & \\
    & & & &
\end{bNiceArray}$
\end{latexex}

\end{document}

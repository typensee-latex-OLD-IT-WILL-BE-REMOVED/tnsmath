% == PACKAGES USED == %

\usepackage{amsmath}
\usepackage{ifthen}


% == DEFINITIONS == %

% Conditional probability

\newcommand\probacond{\@ifstar{\@probacond@star}{\@probacond@no@star}}

\newcommand\@abstract@proba@cond[5]{%
    #1{#3\left( #4 \cap #5 \right)}{#3\left( #5 \right)}%
}

\newcommand\@probacond@star[4][nx]{%
    \ifthenelse{\equal{#1}{x}}%
        {\@abstract@proba@cond{\frac}{#1}{#2}{#3}{#4}}%
        {\ifthenelse{\equal{#1}{X}}
            {\@abstract@proba@cond{\dfrac}{#1}{#2}{#3}{#4}}
            {#2\left( #3 \mid #4 \right)}}%
}


\newcommand\@probacond@no@star[4][nx]{%
    \ifthenelse{\equal{#1}{x}}%
        {\@abstract@proba@cond{\frac}{#1}{#2}{#3}{#4}}%
        {\ifthenelse{\equal{#1}{X}}
            {\@abstract@proba@cond{\dfrac}{#1}{#2}{#3}{#4}}
            {#2_{#4}\left( #3 \right)}}%
}

